
{% extends 'base.html' %}
{% block title %}Notas (Edição Inline){% endblock %}
{% block content %}
<h2>Notas dos Alunos (Edição Inline)</h2>
<form method="POST" action="{{ url_for('editar_em_lote') }}">
<table class="table table-bordered table-hover">
<thead class="table-dark">
<tr>
    <th>Turma</th><th>Nome</th><th>Matrícula</th><th>P1</th><th>P2</th><th>ATV</th><th>Trabalho</th><th>Média</th>
</tr>
</thead>
<tbody>
{% for a in alunos %}
<tr>
    <input type="hidden" name="id_aluno" value="{{ a.id }}">
    <td>{{ a.turma }}</td>
    <td>{{ a.nome }}</td>
    <td>{{ a.matricula }}</td>
    <td><input name="p1_{{ a.id }}" class="form-control" value="{{ a.p1 or '' }}"></td>
    <td><input name="p2_{{ a.id }}" class="form-control" value="{{ a.p2 or '' }}"></td>
    <td><input name="lt_{{ a.id }}" class="form-control" value="{{ a.lt or '' }}"></td>
    <td><input name="projeto_{{ a.id }}" class="form-control" value="{{ a.projeto or '' }}"></td>
    {% set cor = 'table-success' if a.mf >= 6 else ('table-warning' if a.mf >= 5 else 'table-danger') %}
<td class="{{ cor }}"><strong>{{ a.mf or '-' }}</strong></td>
</tr>
{% endfor %}
</tbody>
</table>
<button type="submit" class="btn btn-primary">Salvar Alterações</button>
</form>
{% endblock %}
